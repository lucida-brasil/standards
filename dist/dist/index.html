<!doctype html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<title>Lúcida - Coding Standards</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
	<link rel="stylesheet" href="styles/highlight.css">

<!--[if lte IE 8]>
	<link rel="stylesheet" href="/styles/side-menu-old-ie.css">
<![endif]-->
<!--[if gt IE 8]><!-->
	<link rel="stylesheet" href="styles/side-menu.css">
<!--<![endif]-->
	<link rel="stylesheet" href="styles/global.css">

	<script src="scripts/jquery.js"></script>
	<script src="scripts/polymer.js"></script>

	<link rel="import" href="imports/highlight.html">
</head>
<body class="layout">
	<!-- Menu toggle -->
<a href="#menu" class="menuLink" class="menu-link">
	<!-- Hamburger icon -->
	<span></span>
</a>

<nav class="menu" id="menu">
	<div class="pure-menu pure-menu-open">
		<a class="logo" href="http://lucida.com.br" title="Lúcida - Métricas que fazem sentido">Lúcida</a>
		<ul>
			<li><a class="nav-link" href="#classificando-os-elementos-html">
				Classes
			</a></li> 
			<li><a class="nav-link" href="#enriquecendo-o-mapeamento-com-atributos-data-*">
				Atributos data-* <!-- resolver -->
			</a></li> 
		</ul>
	</div>
</nav>
	<section class="main">
		<div class="header">
			<h1>Coding Standards</h1>
			<p class="header-description">Automatização de tagueamento</p>
		</div>

		<div class="content">
			<h2 class="content-subhead" id="classificando-os-elementos-html">
	Classificando os elementos HTML
</h2>
<p>
	Para conteúdo dinâmico e ambientes onde páginas novas são criadas constantemente, como campanhas, hot sites e landing pages, recomendamos a utilização de classes que identifiquem a importância dos elementos HTML.
</p>
<p>
	Essas classes vão informar aos nossos scripts que um novo conteúdo foi criado e que um elemento precisa ser medido, assim como qual é o tipo de interação que o usuário pode ter com este elemento, por exemplo a ação de click em um botão pode ser identificada pela classe <span class="code">track-click</span>.
</p>
<highlight-code class="html" width="100%" height="auto">
&lt;a href="#" class="btCotacaoG track-click">faça uma cotação&lt;/a>

</highlight-code>
<p>
	Para o conteúdo criado dinâmicamente, seja por <span class="code">AJAX</span> ou injetando <span class="code">HTML</span> através de <span class="code">JavaScript</span>, recomendamos que esses novos elementos sigam o mesmo padrão, <span class="code">track-</span> mais o tipo de interação, <span class="code">click</span> para links e botões, <span class="code">change</span> para <span class="code">input</span> e <span class="code">textarea</span> e <span class="code">submit</span> para formulários.
</p>
<p>
	Por exemplo se um <span class="code">lightbox</span> for inserido na página com um formulário e um botão fechar, podemos usar a estrutura abaixo.
</p>
<highlight-code class="html" width="100%" height="auto">
&lt;div class="lighbox">
	&lt;button id="fechar" class="track-click">fechar&lt;/button>
	&lt;form action="contato.php" name="contato" class="track-submit">
		&lt;label>
			Nome:
			&lt;input type="text" name="nome">
		&lt;/label>
		&lt;label>
			e-mail:
			&lt;input type="email" name="email">
		&lt;/label>
		&lt;label>
			Mensagem:
			&lt;textarea name="mensagem">&lt;/textarea>
		&lt;/label>
		&lt;input type="submit" value="enviar">
	&lt;/form>
&lt;/div>

</highlight-code>
<p>
	Repare que não estamos usando as classes <span class="code">track-change</span> e <span class="code">track-click</span> para os elementos filhos do formulário por que este já foi identificado pela classe <span class="code">track-submit</span>.
</p>
<p>
	Outra vantagem da identificação por classes padronizadas é não restingir o tipo de elemento <span class="code">HTML</span>, um botão pode ser feito por uma tag <span class="code">button</span>, <span class="code">a</span>, <span class="code">span</span> ou <span class="code">img</span> e mesmo assim será identificado corretamente.
</p>
<h2 class="content-subhead" id="enriquecendo-o-mapeamento-com-atributos-data-*">
	Enriquecendo o mapeamento atributos <span class="code">data-*</span></h2>
<p>
	O HTML5 trouxe a <a href="http://www.w3.org/TR/2011/WD-html5-20110525/elements.html#embedding-custom-non-visible-data-with-the-data-attributes">especificação <em>custom data attributes</em></a> que permite adicionar mais informação aos elementos HTML, informaçãoes que não necessáriamente precisam ser repassadas para o usuário.
</p>
<h3>data-conversion</h3>
<p>
	Nos utilizamos os <span class="code">custom data attributes</span> para enriquecer a identificação das conversões que uma determinada ação pode causar, como um site pode ter vários tipos de conversão, como assinar um feed, acessar um chat, solicitar contato ou adiquirir um produto, nos utilizamos o atributo <span class="code">data-conversion</span> para disquinguir essa conversão.
</p>
<p>
	Ainda seguindo o nosso exemplo de botão, vamos considerar que existem 3 possiveis conversões no site.
</p>
<ul>
	<li>Cotação via Chat</li>
	<li>Solicitar contato</li>
	<li>Agendar contato</li>
</ul>
<p>Todos geram possíveis conversões a partir de um clique, mas como distingui-las?</p>
<highlight-code class="html" width="100%" height="auto">
&lt;a href="#" class="track-clik" data-conversion="contato via chat">
	Acesso o chat
&lt;/a>
&lt;a href="#" class="track-clik" data-conversion="contato por telefone">
	Nos ligamos para você
&lt;/a>
&lt;a href="#" class="track-clik" data-conversion="contato agendado">
	Agendar contato
&lt;/a>

</highlight-code>
<p>Dessa forma, mesmo se o tipo de conversão não puder ser lido no <span class="code">HTML</span> da página, por se tratar de uma imagem por exemplo, esse dado vai ser encontrado no atributo <span class="code">data-conversion</span>.</p>

<h3>data-content</h3>
<p>
	Assim como podemos encontrar várias possíveis convesões em um site, também é possivel que uma mesma conversão seja acessível por ações em diferentes locais da página.
</p>
<p>
	Podemos ter uma chamada a ação vinda de um banner ou destaque e outra no rodapé, após um conteúdo explicativo, nesse caso precisamos não apenas identificar qual é a conversão, mas também de onde ela partiu.
</p>
<p>
	Para solucionar esse problema usamos o atributo <span class="code">data-content</span>, que deve ser inseriada nos elementos delimitadores de layout da página, <span class="code">header</span>, <span class="code">menu</span>, <span class="code">footer</span>, <span class="code">sidebar</span>, <span class="code">lightbox</span>, <span class="code">banner</span> e <span class="code">main</span>, 
</p>
<p>
	Com esses atributos, sempre que o usuário interagir com um elemento HTML que deve ser mapeado, nossos scripts vão buscar o atributo <span class="code">data-conversion</span> desse elemento e o <span class="code">data-content</span> do seu antecessor ancestral mais proximo, mantendo nosso exemplo anterior, vamos supor que nosso botão pode ser encontrado em uma banner de destaque e no rodapé do site.
</p>
<highlight-code class="html" width="100%" height="auto">
&lt;!-- banner principal -->
&lt;div class="baseBannerTexto" data-content="banner">
	&lt;a href="#" class="btCotacaoG track-click"
	  data-conversion="contato via chat">
		faça uma cotação
	&lt;/a>
&lt;/div>

&lt;!-- ... -->

&lt;!-- rodape -->
&lt;div class="baseFooterInner" data-content="foooter">
	&lt;ul class="menuBase">
		&lt;li class="menuBaseliOn">
			&lt;div class="menuBaselabel especialBold track-click"
				data-conversion="contato via chat">
				COTAÇÃO VIA&lt;br>CHAT
			&lt;/div>
		&lt;/li>
		&lt;li class="menuBaseli">	
			&lt;div class="menuBaselabel especialBold track-click"
				data-conversion="contato por telefone">
				LIGAMOS&lt;br>PARA VOCÊ
			&lt;/div>
		&lt;/li>
		&lt;li class="menuBaseli">
			&lt;div class="menuBaselabel especialBold track-click"
				data-conversion="agendamento de contato">
				AGENDAMENTO&lt;br>DE CONTATO
			&lt;/div>
		&lt;/li>
	&lt;/ul>
&lt;/div>

</highlight-code>

<p>
	Dessa forma mesmo se tratando de elementos completamente diferentes, podemos identificar de onde partiu cada conversão, banner ou rodapé, que levou o usuário ao chat.
</p>

		</div>
	</section>
	<script src="scripts/ui.js"></script>
</body>
</html>